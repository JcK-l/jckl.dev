import { useScroll, useTransform, motion } from "framer-motion";
import { useRef } from "react";

export const SeparatorIn = () => {
  let ref = useRef(null);

  let { scrollYProgress } = useScroll({
    target: ref,
    offset: ["0% 100%", "100% 0%"],
  });

  let layer1 = useTransform(scrollYProgress, [0, 1], ["-10vh", "0vh"]);
  let layer2 = useTransform(scrollYProgress, [0, 1], ["-20vh", "0vh"]);
  let layer3 = useTransform(scrollYProgress, [0, 1], ["-30vh", "0vh"]);

  // let layer1 = useTransform(scrollYProgress, [0, 1], ["-5vh", "0vh"]);
  // let layer2 = useTransform(scrollYProgress, [0, 1], ["-10vh", "0vh"]);
  // let layer3 = useTransform(scrollYProgress, [0, 1], ["-15vh", "0vh"]);

  // let layer1 = useTransform(scrollYProgress, [0, 1], ["-20%", "0%"]);
  // let layer2 = useTransform(scrollYProgress, [0, 1], ["-40%", "0%"]);
  // let layer3 = useTransform(scrollYProgress, [0, 1], ["-60%", "0%"]);

  return (
    <div className="relative" ref={ref}>
      <svg
        className="relative -z-40"
        viewBox="0 0 900 550"
        // viewBox="0 0 960 540"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path fill="#20537f" d="M 0,0 V 602 H 900 V 0 Z" />
      </svg>

      <svg
        className="absolute top-0"
        viewBox="0 0 900 675"
        // viewBox="0 0 960 540"
        // width="960"
        // height="540"
        version="1.1"
        xmlns="http://www.w3.org/2000/svg"
      >
        <motion.path
          style={{ y: layer3, filter: "drop-shadow(0 5px 20px rgba(30, 32, 32, 0.1))" }}
          // d="M 0,265.0711 V 468.72 l 32,-10.29656 c 32,-10.368 96,-30.95888 160,-56.80688 64,-25.776 128,-56.73656 192,-61.41656 64,-4.68 128,16.92056 192,40.89656 64,24.048 128,50.39944 192,44.42344 64,-5.976 128,-44.42456 160,-63.57656 L 960,342.72 v -77.6489 z"
          d="M 0,294.1543 V 577 l 30,-14.30078 c 30,-14.4 90,-42.99844 150,-78.89844 C 240,448.00078 300,405 360,398.5 420,392 480,422.00078 540,455.30078 600,488.70078 660,525.3 720,517 780,508.7 840,455.29922 870,428.69922 L 900,402 V 294.1543 Z"
          fill="#8cc9ff"
        />
        <motion.path
          style={{ y: layer2, filter: "drop-shadow(0 5px 20px rgba(30, 32, 32, 0.1))"  }}
          // d="M 0,172.98562 V 378 l 32,-15.98344 c 32,-15.912 96,-47.88056 160,-51.33656 64,-3.456 128,21.456 192,21.6 64,0.144 128,-24.624 192,-43.2 64,-18.576 128,-31.10344 192,-16.70344 64,14.4 128,55.728 160,76.32 L 960,369.36 V 172.98562 Z"
          d="M 0,166.25781 V 451 L 30,428.80078 C 60,406.70078 120,362.3 180,357.5 c 60,-4.8 120,29.8 180,30 60,0.2 120,-34.2 180,-60 60,-25.8 120,-43.19922 180,-23.19922 60,20 120,77.4 150,106 L 900,439 V 166.25781 Z"
          fill="#afdcfe"
        />
        <motion.path
          style={{ y: layer1, filter: "drop-shadow(0 5px 20px rgba(30, 32, 32, 0.1))" }}
          // d="M 0,48.718125 V 210.96 l 32,0.21656 c 32,0.288 96,0.72 160,-7.2 64,-7.92 128,-24.19256 192,-21.09656 64,3.096 128,25.70344 192,39.02344 64,13.32 128,17.35256 192,27.57656 64,10.224 128,26.49544 160,34.70344 L 960,292.32 V 48.718125 Z"
          d="M 0,-6.335938 V 219 l 30,0.30078 c 30,0.4 90,1 150,-10 60,-11 120,-33.60078 180,-29.30078 60,4.3 120,35.69922 180,54.19922 60,18.5 120,24.10078 180,38.30078 60,14.2 120,36.79922 150,48.19922 L 900,332 V -6.335938 Z"
          fill="#d4eefd"
        />
        <path
          style={{ filter: "drop-shadow(0 5px 20px rgba(30, 32, 32, 0.1))" }}
          // d="m 960,106.56 -32,13.464 c -32,13.392 -96,40.32 -160,22.752 C 704,125.28 640,63.36 576,60.264 512,57.096 448,112.824 384,124.56 320,136.296 256,104.184 192,107.784 c -64,3.6 -128,42.912 -160,62.64 L 0,190.08 V 0 h 32 c 32,0 96,0 160,0 64,0 128,0 192,0 64,0 128,0 192,0 64,0 128,0 192,0 64,0 128,0 160,0 h 32 z"
          d="m 900,74 -30,18.7 c -30,18.6 -90,56 -150,31.6 C 660,100 600,14 540,9.7 480,5.3 420,82.7 360,99 300,115.3 240,70.7 180,75.7 c -60,5 -120,59.6 -150,87 L 0,190 V -74 h 30 c 30,0 90,0 150,0 60,0 120,0 180,0 60,0 120,0 180,0 60,0 120,0 180,0 60,0 120,0 150,0 h 30 z"
          fill="#fcfeff"
        />
      </svg>
    </div>
  );
};



