import { useScroll, useTransform, motion } from "framer-motion";
import { useRef } from "react";

export const Separator = ({ isUp }: any) => {
  let ref = useRef(null);

  let { scrollYProgress } = useScroll({
    target: ref,
    offset: ["0% 100%", "100% 0%"],
  });

  let layer1 = useTransform(
    scrollYProgress,
    [0, 1],
    isUp ? ["-10%", "0%"] : ["0%", "10%"]
  );
  let layer2 = useTransform(
    scrollYProgress,
    [0, 1],
    isUp ? ["-30%", "0%"] : ["0%", "30%"]
  );
  let layer3 = useTransform(
    scrollYProgress,
    [0, 1],
    isUp ? ["-50%", "0%"] : ["0%", "50%"]
  );
  let layer4 = useTransform(
    scrollYProgress,
    [0, 1],
    isUp ? ["-70%", "0%"] : ["0%", "70%"]
  );

  return (
    <div ref={ref}>
      {isUp && (
        <svg
          viewBox="0 0 900 675"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect
            x="-900"
            y="-676"
            width="900"
            height="676.00006"
            fill="#20537f"
            id="rect2"
            transform="scale(-1)"
          />
          <motion.path
            style={{ y: layer4 }}
            d="M 0 392.1543 L 0 675 L 30 660.69922 C 60 646.29922 120 617.70078 180 581.80078 C 240 546.00078 300 503 360 496.5 C 420 490 480 520.00078 540 553.30078 C 600 586.70078 660 623.3 720 615 C 780 606.7 840 553.29922 870 526.69922 L 900 500 L 900 392.1543 L 0 392.1543 z "
            fill="#8cc9ff"
          />
          <motion.path
            style={{ y: layer3 }}
            d="M 0 266.25781 L 0 551 L 30 528.80078 C 60 506.70078 120 462.3 180 457.5 C 240 452.7 300 487.3 360 487.5 C 420 487.7 480 453.3 540 427.5 C 600 401.7 660 384.30078 720 404.30078 C 780 424.30078 840 481.70078 870 510.30078 L 900 539 L 900 266.25781 L 0 266.25781 z "
            fill="#afdcfe"
          />
          <motion.path
            style={{ y: layer2 }}
            d="M 0 81.664062 L 0 307 L 30 307.30078 C 60 307.70078 120 308.30078 180 297.30078 C 240 286.30078 300 263.7 360 268 C 420 272.3 480 303.69922 540 322.19922 C 600 340.69922 660 346.3 720 360.5 C 780 374.7 840 397.29922 870 408.69922 L 900 420 L 900 81.664062 L 0 81.664062 z "
            fill="#d4eefd"
          />
          <motion.path
            style={{ y: layer1 }}
            d="m 900,148 -30,18.7 c -30,18.6 -90,56 -150,31.6 C 660,174 600,88 540,83.7 480,79.3 420,156.7 360,173 300,189.3 240,144.7 180,149.7 c -60,5 -120,59.6 -150,87 L 0,264 V 0 h 30 c 30,0 90,0 150,0 60,0 120,0 180,0 60,0 120,0 180,0 60,0 120,0 180,0 60,0 120,0 150,0 h 30 z"
            fill="#fcfeff"
          />
        </svg>
      )}
      {!isUp && (
        <svg
          viewBox="0 0 900 675"
          version="1.1"
          xmlns="http://www.w3.org/2000/svg"
        >
          <rect x="0" y="0" width="900" height="675" fill="#20537F" />
          <motion.path
            style={{ y: layer4 }}
            d="M 0,176 30,149.3 C 60,122.7 120,69.3 180,61 240,52.7 300,89.3 360,122.7 420,156 480,186 540,179.5 600,173 660,130 720,94.2 780,58.3 840,29.7 870,15.3 L 900,1 v 619 h -30 c -30,0 -90,0 -150,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -150,0 H 0 Z"
            fill="#8cc9ff"
          />
          <motion.path
            style={{ y: layer3 }}
            d="m 0,137 30,28.7 c 30,28.6 90,86 150,106 60,20 120,2.6 180,-23.2 60,-25.8 120,-60.2 180,-60 60,0.2 120,34.8 180,30 60,-4.8 120,-49.2 150,-71.3 L 900,125 v 437 h -30 c -30,0 -90,0 -150,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -150,0 H 0 Z"
            fill="#afdcfe"
          />
          <motion.path
            style={{ y: layer2 }}
            d="m 0,256 30,11.3 c 30,11.4 90,34 150,48.2 60,14.2 120,19.8 180,38.3 60,18.5 120,49.9 180,54.2 60,4.3 120,-18.3 180,-29.3 60,-11 120,-10.4 150,-10 l 30,0.3 v 287 h -30 c -30,0 -90,0 -150,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -180,0 -60,0 -120,0 -150,0 H 0 Z"
            fill="#d4eefd"
          />
          <motion.path
            style={{ y: layer1 }}
            d="M0 528L30 509.3C60 490.7 120 453.3 180 477.7C240 502 300 588 360 592.3C420 596.7 480 519.3 540 503C600 486.7 660 531.3 720 526.3C780 521.3 840 466.7 870 439.3L900 412L900 676L870 676C840 676 780 676 720 676C660 676 600 676 540 676C480 676 420 676 360 676C300 676 240 676 180 676C120 676 60 676 30 676L0 676Z"
            fill="#fcfeff"
          />
        </svg>
      )}
    </div>
  );
};
